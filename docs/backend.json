
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user in the RSU iLEARN LMS system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the User entity."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "displayName": {
          "type": "string",
          "description": "User's display name."
        },
        "role": {
          "type": "string",
          "description": "User's role (e.g., Teacher, Student)."
        }
      },
      "required": ["id", "email", "displayName", "role"]
    },
    "Course": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Course",
      "type": "object",
      "description": "Represents a master course blueprint.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Course entity."
        },
        "title": {
          "type": "string",
          "description": "The title of the course."
        },
        "description": {
          "type": "string",
          "description": "A description of the course."
        },
        "courseCode": {
          "type": "string",
          "description": "A unique code for the course (e.g., APLIT-101)."
        },
        "units": {
          "type": "number",
          "description": "Number of academic units."
        },
        "courseType": {
          "type": "string",
          "enum": ["lecture", "laboratory", "lec_lab"]
        },
        "syllabusLink": {
          "type": "string",
          "format": "uri"
        },
        "teacherId": {
          "type": "string",
          "description": "The ID of the teacher who owns this course blueprint."
        },
        "gradingPolicy": {
          "type": "array",
          "description": "An array of grading periods (e.g., Midterm, Finals).",
          "items": {
            "type": "object",
            "properties": {
              "term": {
                "type": "string",
                "description": "Name of the grading period (e.g., 'Midterm')."
              },
              "weight": {
                "type": "number",
                "description": "The overall weight of this term in the final grade (e.g., 50 for 50%)."
              },
              "components": {
                "type": "object",
                "description": "Defines the weighting for different assessment types within this term.",
                "properties": {
                  "assignments": {
                    "type": "number",
                    "description": "Percentage weight for assignments."
                  },
                  "quizzes": {
                    "type": "number",
                    "description": "Percentage weight for quizzes."
                  },
                  "activities": {
                    "type": "number",
                    "description": "Percentage weight for other activities or exercises."
                  },
                  "participation": {
                    "type": "number",
                    "description": "Percentage weight for participation."
                  },
                  "majorExamination": {
                    "type": "number",
                    "description": "Percentage weight for the major examination for the term."
                  }
                }
              }
            }
          }
        }
      },
      "required": ["id", "title", "courseCode", "units", "courseType", "syllabusLink", "teacherId"]
    },
    "Block": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Block",
      "type": "object",
      "description": "Represents a specific instance or section of a course.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Block entity."
        },
        "courseId": {
          "type": "string",
          "description": "Reference to the master Course blueprint."
        },
        "blockName": {
          "type": "string",
          "description": "Human-readable name for the block (e.g., 'Section A')."
        },
        "blockCode": {
          "type": "string",
          "description": "Unique, auto-generated code for students to join this specific block (e.g., 'xyz123')."
        },
        "schedule": {
          "type": "string",
          "description": "The schedule for this block (e.g., 'MWF 10-11am')."
        }
      },
      "required": ["id", "courseId", "blockName", "schedule"]
    },
    "Enrollment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Enrollment",
      "type": "object",
      "description": "Represents the link between a student and a course block.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Enrollment entity."
        },
        "studentId": {
          "type": "string",
          "description": "The ID of the enrolled student."
        },
        "blockId": {
          "type": "string",
          "description": "The ID of the block the student is enrolled in."
        },
        "courseId": {
          "type": "string",
          "description": "The ID of the master course blueprint."
        },
        "teacherId": {
          "type": "string",
          "description": "The ID of the teacher for the block."
        },
        "enrollmentDate": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": ["id", "studentId", "blockId", "courseId", "teacherId", "enrollmentDate"]
    },
    "Assignment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Assignment",
      "type": "object",
      "description": "Represents a generic assignment, activity, or exercise within a course.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Assignment entity."
        },
        "courseId": {
          "type": "string",
          "description": "Reference to Course."
        },
        "gradingPeriod": {
          "type": "string",
          "description": "The grading period this assignment belongs to (e.g., 'Midterm')."
        },
        "title": {
          "type": "string",
          "description": "Title of the assignment."
        },
        "description": {
          "type": "string",
          "description": "General instructions for the assignment."
        },
        "objectives": {
            "type": "string",
            "description": "Learning objectives for this assignment."
        },
        "deliverables": {
            "type": "string",
            "description": "Description of what students are expected to submit."
        },
        "pointsPossible": {
          "type": "number",
          "description": "Maximum points possible for assignment, calculated from the rubric."
        },
        "type": {
          "type": "string",
          "description": "The type of assignment.",
          "enum": ["Assignment", "Activity", "Exercise", "Lab Activity"]
        },
        "dueDate": {
            "type": "string",
            "format": "date-time",
            "description": "The suggested submission deadline."
        },
        "closingDate": {
            "type": "string",
            "format": "date-time",
            "description": "The final date after which submissions are not accepted."
        },
        "visibleInBlocks": {
            "type": "array",
            "description": "An array of Block IDs where this assignment is visible.",
            "items": {
                "type": "string"
            }
        },
        "rubric": {
            "type": "array",
            "description": "The grading rubric for the assignment.",
            "items": {
                "type": "object",
                "properties": {
                    "criterionTitle": {
                        "type": "string",
                        "description": "The name of the rubric criterion (e.g., 'Clarity')."
                    },
                    "criterionDescription": {
                        "type": "string",
                        "description": "A detailed description of the criterion."
                    },
                    "levels": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "levelTitle": {
                                    "type": "string",
                                    "description": "The title of the performance level (e.g., 'Excellent')."
                                },
                                "levelDescription": {
                                    "type": "string",
                                    "description": "A description of what this performance level entails."
                                },
                                "points": {
                                    "type": "number",
                                    "description": "The points awarded for this level."
                                }
                            },
                            "required": ["points", "levelTitle"]
                        }
                    }
                },
                "required": ["criterionTitle", "levels"]
            }
        }
      },
      "required": ["id", "courseId", "title", "pointsPossible", "type"]
    },
    "Quiz": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Quiz",
      "type": "object",
      "description": "Represents a quiz within a course.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Quiz entity."
        },
        "courseId": {
          "type": "string",
          "description": "Reference to Course."
        },
         "gradingPeriod": {
          "type": "string",
          "description": "The grading period this quiz belongs to (e.g., 'Midterm')."
        },
        "title": {
          "type": "string",
          "description": "Title of the quiz."
        },
        "description": {
          "type": "string",
          "description": "Description of the quiz."
        },
        "questions": {
          "type": "array",
          "description": "Array of question objects that belong to this quiz.",
          "items": {
            "$ref": "#/entities/Question"
          }
        },
        "pointsPossible": {
          "type": "number",
          "description": "Maximum points possible for quiz."
        },
        "visibleInBlocks": {
            "type": "array",
            "description": "An array of Block IDs where this quiz is visible.",
            "items": {
                "type": "string"
            }
        }
      },
      "required": ["id", "courseId", "title", "questions", "pointsPossible"]
    },
    "Question": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Question",
      "type": "object",
      "description": "Represents a question within a quiz.",
      "properties": {
        "text": {
          "type": "string",
          "description": "Text of the question."
        },
        "type": {
          "type": "string",
          "description": "Type of question (e.g., multiple choice, true/false)."
        },
        "options": {
          "type": "array",
          "description": "Array of options for the question (if applicable).",
          "items": {
            "type": "string"
          }
        },
        "correctAnswer": {
          "type": "string",
          "description": "The correct answer for the question."
        },
        "pointsPossible": {
          "type": "number",
          "description": "Points possible for question"
        }
      },
      "required": ["text", "type", "correctAnswer", "pointsPossible"]
    },
    "Submission": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Submission",
      "type": "object",
      "description": "Represents a student's submission for an assignment or quiz.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Submission entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User (Student)."
        },
        "courseId": {
          "type": "string"
        },
        "blockId": {
          "type": "string"
        },
        "assignmentId": {
          "type": "string",
          "description": "Reference to Assignment."
        },
        "quizId": {
          "type": "string",
          "description": "Reference to Quiz."
        },
        "submissionTime": {
          "type": "string",
          "description": "Timestamp of when the submission was made.",
          "format": "date-time"
        },
        "googleDriveUrl": {
          "type": "string",
          "description": "URL of the submitted Google Drive document.",
          "format": "uri"
        },
        "grade": {
          "type": "number",
          "description": "Grade received for the submission."
        },
        "feedback": {
          "type": "string",
          "description": "Feedback provided by the teacher."
        }
      },
      "required": ["id", "userId", "submissionTime"]
    },
    "Lesson": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Lesson",
      "type": "object",
      "description": "Represents a lesson within a course, including pedagogical structure.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Lesson entity."
        },
        "courseId": {
          "type": "string",
          "description": "Reference to Course."
        },
        "gradingPeriod": {
          "type": "string",
          "description": "The grading period this lesson belongs to (e.g., 'Midterm')."
        },
        "title": {
          "type": "string",
          "description": "Title of the lesson."
        },
        "learningOutcome": {
            "type": "string",
            "description": "The expected learning outcome for the student after completing the lesson."
        },
        "objectives": {
            "type": "string",
            "description": "Specific objectives for the lesson, can be a list in Markdown format."
        },
        "sdgIntegration": {
            "type": "string",
            "description": "Description of how the lesson integrates with UN Sustainable Development Goals."
        },
        "internationalization": {
            "type": "string",
            "description": "Description of the internationalization aspects of the lesson."
        },
        "contentType": {
          "type": "string",
          "description": "The type of content for the lesson.",
          "enum": ["text", "pdf", "presentation", "youtube"]
        },
        "contentValue": {
          "type": "string",
          "description": "The main content of the lesson, either rich text or a URL."
        },
        "visibleInBlocks": {
            "type": "array",
            "description": "An array of Block IDs where this lesson is visible.",
            "items": {
                "type": "string"
            }
        }
      },
      "required": ["id", "courseId", "title", "learningOutcome", "objectives", "contentType", "contentValue"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "google.com"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/entities/User"
          },
          "description": "Stores user profiles."
        }
      },
      {
        "path": "/users/{teacherId}/courses/{courseId}",
        "definition": {
          "entityName": "Course",
          "schema": {
            "$ref": "#/entities/Course"
          },
          "description": "Stores master course blueprints owned by teachers."
        }
      },
      {
        "path": "/users/{teacherId}/courses/{courseId}/blocks/{blockId}",
        "definition": {
          "entityName": "Block",
          "schema": {
            "$ref": "#/entities/Block"
          },
          "description": "Stores specific sections/blocks of a course, owned by the teacher."
        }
      },
      {
        "path": "/users/{teacherId}/courses/{courseId}/lessons/{lessonId}",
        "definition": {
          "entityName": "Lesson",
          "schema": {
            "$ref": "#/entities/Lesson"
          },
          "description": "Stores lesson content for a course."
        }
      },
      {
        "path": "/users/{teacherId}/courses/{courseId}/assignments/{assignmentId}",
        "definition": {
          "entityName": "Assignment",
          "schema": {
            "$ref": "#/entities/Assignment"
          },
          "description": "Stores assignment templates for a course."
        }
      },
      {
        "path": "/users/{teacherId}/courses/{courseId}/quizzes/{quizId}",
        "definition": {
          "entityName": "Quiz",
          "schema": {
            "$ref": "#/entities/Quiz"
          },
          "description": "Stores quiz templates for a course."
        }
      },
       {
        "path": "/enrollments/{enrollmentId}",
        "definition": {
            "entityName": "Enrollment",
            "schema": {
                "$ref": "#/entities/Enrollment"
            },
            "description": "Top-level collection to store records of which students are in which blocks for query efficiency."
        }
      },
      {
        "path": "/submissions/{submissionId}",
        "definition": {
          "entityName": "Submission",
          "schema": {
            "$ref": "#/entities/Submission"
          },
          "description": "Stores submissions from students for quizzes or assignments."
        }
      }
    ]
  }
}
